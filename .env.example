# Freeze Dry Node — Environment Configuration
# Copy to .env and fill in your values
#
# This node indexes on-chain Freeze Dry artwork by scanning Solana memo
# transactions. By default it watches the official Freeze Dry inscriber wallet,
# so your node automatically discovers all public Freeze Dry content.
#
# Free Helius key: polling via standard RPC (works, slightly slower)
# Paid Helius key: Enhanced API auto-detected on startup (~50x cheaper)

# ─── Required ───

# Helius RPC key (get a free key at https://helius.dev)
HELIUS_API_KEY=your-helius-api-key-here

# ─── Discovery ───

# Wallet to scan for FREEZEDRY: pointer memos.
# Default: official Freeze Dry inscriber — your node auto-indexes all public content.
# Change this to index a different inscriber's content.
SERVER_WALLET=6ao3hnvKQJfmQ94xTMV34uLUP6azVNHzCfip1ic5Nafj

# Registry URL for startup backfill (seeds existing artworks on first run)
REGISTRY_URL=https://freezedry.dogame.art/api/registry

# ─── Optional ───

# Webhook/ingest auth secret — REQUIRED for write endpoints
# Without this, the node runs in read-only mode (no /ingest, /webhook, /sync/announce)
# Generate one: openssl rand -hex 32
# Set the same value in the Helius dashboard webhook config
WEBHOOK_SECRET=

# Force Enhanced API on/off (auto-detected by default)
# USE_ENHANCED_API=true

# Custom RPC URL (overrides default Helius RPC)
# HELIUS_RPC_URL=https://mainnet.helius-rpc.com/?api-key=YOUR_KEY

# Poll interval in milliseconds (default: 120000 = 2 min)
POLL_INTERVAL=120000

# Blob access: "false" (default) = only active peers can download blobs.
# Set to "true" to serve blobs publicly (open cache mode).
# Metadata (/artwork, /artworks, /verify) is always public regardless.
# BLOB_PUBLIC=false

# Server port
PORT=3100

# Node identity (shown in /health and peer sync)
NODE_ID=my-freezedry-node

# ─── Peer Network ───

# Your node's public URL (needed for bidirectional peer announcements)
# Other nodes will use this to reach you. Must be publicly accessible.
# NODE_URL=https://node.yourdomain.com

# Comma-separated list of peer node URLs to connect to on startup.
# Your node will sync artwork from peers (faster than chain reads)
# and share its peer list (gossip protocol).
# PEER_NODES=https://node1.example.com,https://node2.example.com
